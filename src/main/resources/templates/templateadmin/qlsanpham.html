
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en"
      data-layout="vertical" data-topbar="light" data-sidebar="dark" data-sidebar-image="none" data-preloader="disable"
      data-theme="default" data-theme-colors="default">
<head>
    <meta charset="UTF-8">
    <title>Quản lý sản phẩm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Premium Multipurpose Admin & Dashboard Template" name="description"/>
    <meta content="Themesbrand" name="author"/>
    <style>
        .disabled {
            pointer-events: none;
            opacity: 0.5;
        }
    </style>

    <link rel="shortcut icon" href="../images/shoes.png">
    <!-- Thêm Line Awesome CDN -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/line-awesome/1.3.0/line-awesome/css/line-awesome.min.css">
    <!-- Thêm Material Design Icons CDN -->
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font/css/materialdesignicons.min.css" rel="stylesheet">
    <!-- Thêm Feather Icon CND -->
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- Thêm Remix Icon -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <!-- Thêm link tới Boxicons CDN -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!-- jsvectormap css -->
    <link href="../css/jsvectormap.min.css" rel="stylesheet" type="text/css"/>

    <!--Swiper slider css-->
    <link href="../css/swiper-bundle.min.css" rel="stylesheet" type="text/css"/>

    <!-- Layout config Js -->
    <script src="../js/layout.js"></script>
    <!-- Bootstrap Css -->
    <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    n<!-- Icons Css -->
    <link href="../css/icons.min.css" rel="stylesheet" type="text/css"/>
    <!-- App Css-->
    <link href="../css/app.min.css" rel="stylesheet" type="text/css"/>
    <!-- custom Css-->
    <link href="../css/custom.min.css" rel="stylesheet" type="text/css"/>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<!-- Begin page -->
<div id="layout-wrapper">

    <header id="page-topbar">
        <div class="layout-width">
            <div class="navbar-header">
                <div class="d-flex">
                    <!-- LOGO -->
                    <div class="navbar-brand-box horizontal-logo">
                        <a href="/trangchuadmin" class="logo logo-dark">
                        <span class="logo-sm">
                            <img src="../images/shoes.png" alt="" height="22">
                        </span>
                            <span class="logo-lg">
                            <h1 class="mt-3" style="color: #abb9e8">Sneaker Beehouse</h1>
                        </span>
                        </a>

                        <a href="/trangchuadmin" class="logo logo-light">
                        <span class="logo-sm">
                            <img src="../images/shoes.png" alt="" height="22">
                        </span>
                            <span class="logo-lg">
                            <h1 class="mt-3" style="color: #abb9e8">Sneaker Beehouse</h1>
                        </span>
                        </a>
                    </div>

                    <button type="button"
                            class="btn btn-sm px-3 fs-16 header-item vertical-menu-btn topnav-hamburger material-shadow-none"
                            id="topnav-hamburger-icon">
                    <span class="hamburger-icon">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                    </button>
                </div>

                <div class="d-flex align-items-center">
                    <div class="dropdown ms-sm-3 header-item topbar-user"
                         th:if="${#authentication.name != 'anonymousUser'}">
                        <button type="button" class="btn material-shadow-none" id="page-header-user-dropdown"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="d-flex align-items-center">
                            <img class="rounded-circle header-profile-user" src="../images/users/avatar-1.jpg"
                                 alt="Header Avatar">
                            <span class="text-start ms-xl-2">
                                <span class="d-none d-xl-inline-block ms-1 fw-medium user-name-text"
                                      th:text="${#authentication.principal.displayName}"></span>
                                <span class="d-none d-xl-block ms-1 fs-12 user-name-sub-text"
                                      th:text="${#authentication.principal.role == 'ROLE_ADMIN' ? 'Admin' : (#authentication.principal.role == 'ROLE_MANAGER' ? 'Quản lý' : 'Nhân viên')}">Trưởng nhóm</span>
                            </span>
                        </span>
                        </button>
                        <div class="dropdown-menu dropdown-menu-end" th:if="${#authentication.name != 'anonymousUser'}">
                            <!-- item-->
                            <h6 class="dropdown-header">Xin chào <span
                                    th:text="${#authentication.principal.displayName}"></span></h6>
                            <a class="dropdown-item" href="/thongtinadmin"><i
                                    class="mdi mdi-account-circle text-muted fs-16 align-middle me-1"></i> <span
                                    class="align-middle">Thông tin cá nhân</span></a>
                            <a class="dropdown-item" href="/tinnhanadmin"><i
                                    class="mdi mdi-message-text-outline text-muted fs-16 align-middle me-1"></i> <span
                                    class="align-middle">Tin nhắn</span></a>
                            <a class="dropdown-item" href="/trogiupadmin"><i
                                    class="mdi mdi-lifebuoy text-muted fs-16 align-middle me-1"></i> <span
                                    class="align-middle">Trợ giúp</span></a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="/caidatadmin"><span
                                    class="badge bg-success-subtle text-success mt-1 float-end">New</span><i
                                    class="mdi mdi-cog-outline text-muted fs-16 align-middle me-1"></i> <span
                                    class="align-middle">Cài đặt</span></a>
                            <a class="dropdown-item" href="/khoamanhinhadmin"><i
                                    class="mdi mdi-lock text-muted fs-16 align-middle me-1"></i> <span
                                    class="align-middle">Khóa màn hình</span></a>
                            <a class="dropdown-item" href="/logout"><i
                                    class="mdi mdi-logout text-muted fs-16 align-middle me-1"></i> <span
                                    class="align-middle" data-key="t-logout">Đăng xuất</span></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- ========== App Menu ========== -->
    <div class="app-menu navbar-menu">
        <!-- LOGO -->
        <div class="navbar-brand-box">
            <!-- Dark Logo-->
            <a href="/trangchuadmin" class="logo logo-dark">
                    <span class="logo-sm">
                        <img src="../images/shoes.png" alt="" height="22">
                    </span>
                <span class="logo-lg">
                        <h1 class="mt-3" style="color: #abb9e8">Sneaker Beehouse</h1>
                    </span>
            </a>
            <!-- Light Logo-->
            <a href="/trangchuadmin" class="logo logo-light">
                    <span class="logo-sm">
                        <img src="../images/shoes.png" alt="" height="22">
                    </span>
                <span class="logo-lg">
                       <h1 class="mt-3" style="color: #abb9e8">Sneaker Beehouse</h1>
                    </span>
            </a>
            <button type="button" class="btn btn-sm p-0 fs-20 header-item float-end btn-vertical-sm-hover"
                    id="vertical-hover">
                <i class="ri-record-circle-line"></i>
            </button>
        </div>
        <div id="scrollbar">
            <div class="container-fluid">
                <div id="two-column-menu">
                </div>
                <ul class="navbar-nav" id="navbar-nav" data-simplebar="init">
                    <li class="menu-title"><span data-key="t-menu">Menu</span></li>
                    <li class="nav-item" sec:authorize="hasRole('MANAGER')">
                        <a class="nav-link menu-link" href="#sidebarDashboards" data-bs-toggle="collapse" role="button"
                           aria-expanded="false" aria-controls="sidebarDashboards">
                            <i class="ri-dashboard-2-line"></i> <span data-key="t-dashboards">Thống kê</span>
                        </a>
                        <div class="collapse menu-dropdown" id="sidebarDashboards">
                            <ul class="nav nav-sm flex-column">


                                <li class="nav-item">
                                    <a href="/trangchuadmin" class="nav-link" data-key="t-ecommerce"> Doanh thu </a>
                                </li>
                            </ul>
                        </div>
                    </li> <!-- end Dashboard Menu -->
                    <li class="nav-item" sec:authorize="hasRole('MANAGER')">
                        <a class="nav-link menu-link" href="#sidebarApps" data-bs-toggle="collapse" role="button"
                           aria-expanded="false" aria-controls="sidebarApps">
                            <i class="ri-apps-2-line"></i> <span data-key="t-apps">Quản lý</span>
                        </a>
                        <div class="collapse menu-dropdown" id="sidebarApps">
                            <ul class="nav nav-sm flex-column">
                                <li class="nav-item">
                                    <a href="#sidebarCalendar" class="nav-link" data-bs-toggle="collapse" role="button"
                                       aria-expanded="false" aria-controls="sidebarCalendar" data-key="t-calender">
                                        Quản lý thuộc tính
                                    </a>
                                    <div class="collapse menu-dropdown" id="sidebarCalendar">
                                        <ul class="nav nav-sm flex-column">
                                            <li class="nav-item">
                                                <a href="/qlkichthuoc" class="nav-link" data-key="t-main-calender"> Kích
                                                    thước</a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="/qlmausac" class="nav-link" data-key="t-month-grid"> Màu
                                                    sắc </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="/qlthuonghieu" class="nav-link"> Thương hiệu </a>
                                            </li>
                                            <li class="nav-item">
                                                <a href="/qlxuatxu" class="nav-link"> Xuất xứ</a>
                                            </li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="nav-item">
                                    <a href="/qlsanpham" class="nav-link" data-key="t-sanpham">Quản lý sản phẩm</a>
                                </li>
                                <li class="nav-item">
                                    <a href="/qlvoucher" class="nav-link" data-key="t-voucher"> Quản lý voucher </a>
                                </li>
                                <li class="nav-item">
                                    <a href="/qlkhuyenmai" class="nav-link" data-key="t-khuyenmai"> Quản lý chương trình
                                        khuyến mãi </a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <li class="nav-item" sec:authorize="hasAnyRole('MANAGER','STAFF')">
                        <a class="nav-link menu-link" href="/don-hang/hien-thi">
                            <i class="ri-store-line"></i> <span data-key="t-layouts">Bán hàng</span>
                        </a>

                    </li> <!-- end Dashboard Menu -->
                    <li class="nav-item" sec:authorize="hasAnyRole('MANAGER','STAFF')">
                        <a class="nav-link menu-link" href="/donhangadmin">
                            <i class="ri-file-text-line"></i> <span data-key="t-layouts">Đơn hàng</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link menu-link" href="#sidebarAuth" data-bs-toggle="collapse" role="button"
                           aria-expanded="false" aria-controls="sidebarAuth">
                            <i class="ri-account-circle-line"></i> <span data-key="t-auth">Tài khoản</span>
                        </a>
                        <div class="collapse menu-dropdown" id="sidebarAuth">
                            <ul class="nav nav-sm flex-column">
                                <li class="nav-item" sec:authorize="hasAnyRole('MANAGER','ADMIN')">
                                    <a href="/qlnhanvien" class="nav-link" data-key="t-nhanvien"> Nhân viên </a>
                                </li>
                                <li class="nav-item" sec:authorize="hasAnyRole('MANAGER','STAFF')">
                                    <a href="/qlkhachhang" class="nav-link" data-key="t-khachang"> Khách hàng </a>
                                </li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
            <!-- Sidebar -->
        </div>

        <div class="sidebar-background"></div>
    </div>
    <!-- Left Sidebar End -->
    <!-- Vertical Overlay-->
    <div class="vertical-overlay"></div>

    <!-- ============================================================== -->
    <!-- Start right Content here -->
    <!-- ============================================================== -->
    <div class="main-content">

        <div class="page-content">
            <div class="container-fluid">
                <!-- COde tai day -->
                <!-- Modal thông báo -->
                <div class="toast-container position-fixed top-0 end-0 p-3" style="z-index: 1055;">
                    <!-- Toast for Success -->
                    <div th:if="${message}" id="toastSuccess" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                <p th:text="${message}">Thông báo thành công!</p>
                            </div>
                            <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                    </div>
                    <!-- Toast for Error -->
                    <div th:if="${errorMessage}" id="toastError" class="toast align-items-center text-bg-danger border-0" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="d-flex">
                            <div class="toast-body">
                                <p th:text="${errorMessage}">Thông báo lỗi!</p>
                            </div>
                            <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                    </div>
                </div>
                <h1 class="text-center">Quản lý sản phẩm</h1>
                <!-- Tabs nav -->
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" th:href="@{/qlsanpham}" th:classappend="${tab == 'home'} ? 'active' : ''">Sản
                            phẩm</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" th:href="@{/qlsanphamchitiet}"
                           th:classappend="${tab == 'profile'} ? 'active' : ''">Sản phẩm chi tiết</a>
                    </li>
                </ul>
                <!-- Tabs content -->
                <div class="tab-content" id="myTabContent">
                    <!-- Tab quản lý sản phẩm -->
                    <div class="tab-pane fade" id="home" role="tabpanel" aria-labelledby="home-tab"
                         th:classappend="${tab == 'home'} ? 'show active' : ''">
                        <div class="card">
                            <div class="card-header text-center">
                                <h1 class="card-title">Sản phẩm</h1>
                            </div>
                            <div class="card-body">
                                <div class="serchSanPham">
                                    <form action="/qlsanpham" method="get" class="p-4 border rounded shadow-sm bg-light">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label class="form-label">Tìm kiếm</label>
                                                <input type="text" name="serchSanPham" class="form-control"
                                                       th:value="${serchSanPham}"
                                                       placeholder="Mã hoặc tên sản phẩm"/>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Thương hiệu</label>
                                                <select name="idThuongHieu" class="form-select"
                                                        onchange="this.form.submit()">
                                                    <option value="" disabled selected>Chọn thương hiệu</option>
                                                    <option th:each="th : ${listThuongHieu}" th:value="${th.id}"
                                                            th:text="${th.tenThuongHieu}"
                                                            th:selected="${idThuongHieu != null && idThuongHieu == th.id}"></option>
                                                </select>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Xuất xứ</label>
                                                <select name="idXuatXu" class="form-select"
                                                        onchange="this.form.submit()">
                                                    <option value="" disabled selected>Chọn xuất xứ</option>
                                                    <option th:each="xx : ${listXuatXu}" th:value="${xx.id}"
                                                            th:text="${xx.tenXuatXu}"
                                                            th:selected="${idXuatXu != null && idXuatXu == xx.id}"></option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="text-center mt-2">
                                            <button type="submit"
                                                    class="btn btn-sm btn-search m-2">
                                                <i class="ri-search-line"></i> Tìm kiếm
                                            </button>
                                        </div>
                                    </form>
                                </div>
                                <a th:href="@{/them-san-pham-form}" class="btn btn-add btn-sm mt-2"><i class="ri-add-line"></i> Thêm</a>


                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th>STT</th>
                                        <th>Mã sản phẩm</th>
                                        <th>Tên sản phẩm</th>
                                        <th>Thương hiệu</th>
                                        <th>Xuất xứ</th>
                                        <th>Khuyến mãi</th>
                                        <th>Trạng thái</th>
                                        <th>Hành động</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="sp,index : ${listSanPham}">
                                        <td>[[${index.index + 1}]]</td>
                                        <td>[[${sp.maSanPham}]]</td>
                                        <td>[[${sp.tenSanPham}]]</td>
                                        <td>[[${sp.thuongHieu.tenThuongHieu}]]</td>
                                        <td>[[${sp.xuatXu.tenXuatXu}]]</td>
                                        <td>[[${sp.khuyenMai?.tenKhuyenMai}]]</td>
                                        <td th:switch="${sp.trangThai}">
                                            <span th:case="1">Còn hàng</span>
                                            <span th:case="0">Hết hàng</span>
                                        </td>
                                        <td>
                                            <a th:href="@{/sua-san-pham-form/{id}(id=${sp.id})}" class="btn btn-sm btn-edit" ><i class="ri-edit-line"> Sửa</i></a>
                                            <button
                                                    type="button"
                                                    class="btn btn-info btn-sm"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#customerDetailModal"
                                                    th:attr="data-id=${sp.id},
                                                    data-masp=${sp.maSanPham},
                                                    data-tensp=${sp.tenSanPham},
                                                    data-thuonghieu=${sp.thuongHieu.tenThuongHieu},
                                                    data-xuatxu=${sp.xuatXu.tenXuatXu},
                                                    data-khuyenmai=${sp.khuyenMai != null ? sp.khuyenMai.tenKhuyenMai : null},
                                                    data-ngaytao=${#dates.format(sp.ngayTao, 'dd/MM/yyyy')},
                                                    data-nguoitao=${sp.nguoiTao},
                                                    data-ngaysua=${#dates.format(sp.ngaySua,'dd/MM/yyyy')},
                                                    data-nguoisua=${sp.nguoiSua},
                                                    data-trangthai=${sp.trangThai == 0 ? 'Hết hàng' : 'Còn hàng'}">
                                                <i class="ri-eye-line"></i> Xem chi tiết
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <!-- Modal Xác Nhận -->
                                <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="confirmModalLabel">Xác nhận thêm sản phẩm</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                Bạn có chắc chắn muốn thêm sản phẩm này không?
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                                <button type="button" class="btn btn-primary" id="confirmAdd">Xác nhận</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <script>
                                    document.getElementById("confirmAdd").addEventListener("click", function () {
                                        document.forms["addSanPhamForm"].submit();
                                    });
                                </script>
                                <!-- Modal Xác Nhận -->
                                <div class="modal fade" id="confirmModal1" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="confirmModalLabel1">Xác nhận sửa sản phẩm</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                Bạn có chắc chắn muốn sửa sản phẩm này không?
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                                                <button type="button" class="btn btn-primary" id="confirmAdd1">Xác nhận</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <script>
                                    document.getElementById("confirmAdd1").addEventListener("click", function () {
                                        document.forms["editSanPhamForm"].submit();
                                    });
                                </script>
                                <div class="modal fade" id="customerDetailModal" tabindex="-1" aria-labelledby="customerDetailModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="customerDetailModalLabel">Chi tiết sản phẩm</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <p><strong>Id:</strong> <span id="detailId"></span></p>
                                                <p><strong>Mã sản phẩm:</strong> <span id="detailMaSanPham"></span></p>
                                                <p><strong>Tên sản phẩm:</strong> <span id="detailTenSanPham"></span></p>
                                                <p><strong>Thương hiệu:</strong> <span id="detailThuongHieu"></span></p>
                                                <p><strong>Xuất xứ:</strong> <span id="detailXuatXu"></span></p>
                                                <p><strong>Khuyến mãi:</strong> <span id="detailKhuyenMai"></span></p>
                                                <p><strong>Ngày tạo:</strong> <span id="detailNgayTao"></span></p>
                                                <p><strong>Người tạo:</strong> <span id="detailNguoiTao"></span></p>
                                                <p><strong>Ngày sửa:</strong> <span id="detailNgaySua"></span></p>
                                                <p><strong>Nguời sửa:</strong> <span id="detailNguoiSua"></span></p>
                                                <p><strong>Trạng thái:</strong> <span id="detailTrangThai"></span></p>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <script>
                                    document.addEventListener('DOMContentLoaded', function () {
                                        const customerDetailModal = document.getElementById('customerDetailModal');

                                        customerDetailModal.addEventListener('show.bs.modal', function (event) {
                                            const button = event.relatedTarget; // Button that triggered the modal
                                            const id = button.getAttribute('data-id');
                                            const maSP = button.getAttribute('data-masp');
                                            const tenSP = button.getAttribute('data-tensp');
                                            const thuongHieu = button.getAttribute('data-thuonghieu');
                                            const xuatXu = button.getAttribute('data-xuatxu');
                                            const khuyenMai = button.getAttribute('data-khuyenmai');
                                            const ngayTao = button.getAttribute('data-ngaytao');
                                            const nguoiTao = button.getAttribute('data-nguoitao');
                                            const ngaySua = button.getAttribute('data-ngaysua');
                                            const nguoiSua = button.getAttribute('data-nguoisua');
                                            const trangThai = button.getAttribute('data-trangthai');
                                            // Update the modal's content
                                            document.getElementById('detailId').textContent = id;
                                            document.getElementById('detailMaSanPham').textContent = maSP;
                                            document.getElementById('detailTenSanPham').textContent = tenSP;
                                            document.getElementById('detailThuongHieu').textContent = thuongHieu;
                                            document.getElementById('detailXuatXu').textContent = xuatXu;
                                            document.getElementById('detailKhuyenMai').textContent = khuyenMai;
                                            document.getElementById('detailNgayTao').textContent = ngayTao;
                                            document.getElementById('detailNguoiTao').textContent = nguoiTao;
                                            document.getElementById('detailNgaySua').textContent = ngaySua;
                                            document.getElementById('detailNguoiSua').textContent = nguoiSua;
                                            document.getElementById('detailTrangThai').textContent = trangThai;
                                        });
                                    });
                                </script>
                                <th:block th:if="${listSanPham !=null and listSanPham.totalPages > 1}">
                                    <nav aria-label="Page navigation">
                                        <ul class="pagination justify-content-center">
                                            <!-- Nút Previous -->
                                            <li class="page-item"
                                                th:classappend="${!listSanPham.hasPrevious()} ? 'disabled'">
                                                <a class="page-link"
                                                   th:href="@{/qlsanpham(page=${listSanPham.number - 1}, serchSanPham=${param.serchSanPham}, idThuongHieu=${param.idThuongHieu}, idXuatXu=${param.idXuatXu})}">&lt;</a>
                                            </li>
                                            <!-- Các số trang -->
                                            <th:block th:each="i : ${#numbers.sequence(0, listSanPham.totalPages - 1)}">
                                                <li class="page-item"
                                                    th:classappend="${i == listSanPham.number} ? 'active'">
                                                    <a class="page-link"
                                                       th:href="@{/qlsanpham(page=${i}, serchSanPham=${param.serchSanPham}, idThuongHieu=${param.idThuongHieu}, idXuatXu=${param.idXuatXu})}"
                                                       th:text="${i + 1}"></a>
                                                </li>
                                            </th:block>
                                            <!-- Nút Next -->
                                            <li class="page-item"
                                                th:classappend="${!listSanPham.hasNext()} ? 'disabled'">
                                                <a class="page-link"
                                                   th:href="@{/qlsanpham(page=${listSanPham.number + 1}, serchSanPham=${param.serchSanPham}, idThuongHieu=${param.idThuongHieu}, idXuatXu=${param.idXuatXu})}">&gt;</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </th:block>
                            </div>
                        </div>
                    </div>

                    <!-- Tab quản lý sản phẩm chi tiết -->
                    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab"
                         th:classappend="${tab == 'profile'} ? 'show active' : ''">
                        <div class="card">
                            <div class="card-header text-center">
                                <h1 class="card-title">Sản phẩm chi tiết</h1>
                            </div>
                            <div class="card-body">
                                <div class="search">
                                    <form action="/qlsanphamchitiet" method="get" class="p-4 border rounded shadow-sm bg-light">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <label class="form-label">Tìm kiếm</label>
                                                <input type="text" class="form-control" name="searchSanPhamChiTiet"
                                                       th:value="${searchSanPhamChiTiet}"
                                                       placeholder="Mã sản phẩm chi tiết">
                                            </div>
                                            <div class="col-md-4">
                                                <label for="minPrice">Giá Thấp Nhất:</label>
                                                <input type="number" id="minPrice" name="minPrice" class="form-control">
                                            </div>
                                            <div class="col-md-4">
                                                <label for="maxPrice">Giá Cao Nhất:</label>
                                                <input type="number" id="maxPrice" name="maxPrice" class="form-control">
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Sản phẩm</label>
                                                <select name="idSanPham" class="form-select"
                                                        onchange="this.form.submit()">
                                                    <option value="" disabled selected>Chọn sản phẩm</option>
                                                    <option th:each="sp : ${listSanPhams}" th:value="${sp.id}"
                                                            th:text="${sp.tenSanPham}"
                                                            th:selected="${idSanPham != null && idSanPham == th.id}"></option>
                                                </select>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Màu sắc</label>
                                                <select name="idMauSac" class="form-select"
                                                        onchange="this.form.submit()">
                                                    <option value="" disabled selected>Chọn màu sắc</option>
                                                    <option th:each="ms : ${listMauSac}" th:value="${ms.id}"
                                                            th:text="${ms.tenMauSac}"
                                                            th:selected="${idMauSac != null && idMauSac == th.id}"></option>
                                                </select>
                                            </div>
                                            <div class="col-md-4">
                                                <label class="form-label">Kích thước</label>
                                                <select name="idKichThuoc" class="form-select"
                                                        onchange="this.form.submit()">
                                                    <option value="" disabled selected>Chọn kích thước</option>
                                                    <option th:each="kt : ${listKichThuoc}" th:value="${kt.id}"
                                                            th:text="${kt.tenKichThuoc}"
                                                            th:selected="${idKichThuoc != null && idKichThuoc == th.id}"></option>
                                                </select>
                                            </div>

                                        </div>
                                        <div class="text-center m-3">
                                            <button type="submit"
                                                    class="btn btn-sm btn-search">
                                                <i class="ri-search-line"></i> Tìm kiếm
                                            </button>
                                        </div>
                                    </form>
                                </div>

                                <a th:href="@{/them-san-pham-chi-tiet-form}" class="btn btn-sm btn-add mt-2"><i class="ri-add-line"></i> Thêm</a>
                                <table class="table">
                                    <thead>
                                    <tr>
                                        <th>STT</th>
                                        <th>Mã sản phảm chi tiết</th>
                                        <th>Sản phẩm</th>
                                        <th> Kích thước</th>
                                        <th>Màu sắc</th>
                                        <th>Số lượng</th>
                                        <th>Giá bán</th>
                                        <th>Giá bán sau giảm</th>
                                        <th>Images</th>
                                        <th>Hành động</th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr th:each="spct,index : ${listSanPhamChiTiet}">
                                        <td>[[${index.index + 1}]]</td>
                                        <td>[[${spct.maSanPhamChiTiet}]]</td>
                                        <td>[[${spct.sanPham.tenSanPham}]]</td>
                                        <td>[[${spct.kichThuoc.tenKichThuoc}]]</td>
                                        <td>[[${spct.mauSac.tenMauSac}]]</td>
                                        <td>[[${spct.soLuong}]]</td>
                                        <td>[[${#numbers.formatDecimal(spct.giaBan, 0, 'POINT', 0 , 'POINT')}]]</td>
                                        <td>[[${#numbers.formatDecimal(spct.giaBanGiamGia, 0 ,'POINT', 0, 'POINT')}]]</td>
                                        <td><img
                                                th:src="@{'/repository/' + ${#strings.arraySplit(spct.imanges, ',')[0]}}"
                                                width="100"
                                                height="100"/></td>
                                        <td>
                                            <a th:href="@{/sua-san-pham-chi-tiet-form/{id}(id=${spct.id})}" class="btn btn-sm btn-edit"><i class="ri-edit-line"></i> Sửa</a>
                                            <button
                                                    type="button"
                                                    class="btn btn-info btn-sm"
                                                    data-bs-toggle="modal"
                                                    data-bs-target="#sanPhamChiTietDetailModal"
                                                    th:attr="data-id1=${spct.id},
                                                data-hinhanh=${spct.imanges},
                                                data-maspct=${spct.maSanPhamChiTiet},
                                                data-sp=${spct.sanPham.tenSanPham},
                                                data-kt=${spct.kichThuoc.tenKichThuoc},
                                                data-ms=${spct.mauSac.tenMauSac},
                                                data-soluong=${spct.soLuong},
                                                data-giaban=${#numbers.formatDecimal(spct.giaBan,0,'POINT', 0 , 'POINT')},
                                                data-giabangiamgia=${#numbers.formatDecimal(spct.giaBanGiamGia,0,'POINT',0,'POINT')},
                                                data-ngaysanxuat=${#dates.format(spct.ngaySanXuat, 'dd/MM/yyyy')},
                                                data-ngaytao1=${#dates.format(spct.ngayTao,'dd/MM/yyyy')},
                                                data-nguoitao1=${spct.nguoiTao},
                                                data-ngaysua1=${#dates.format(spct.ngaySua,'dd/MM/yyyy')},
                                                data-nguoisua1=${spct.nguoiSua},
                                                data-trangthai1=${spct.trangThai} ? 'Còn hàng' : 'Hết hàng'">
                                                <i class="ri-eye-line"></i> Xem chi tiết
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="modal fade" id="sanPhamChiTietDetailModal" tabindex="-1" aria-labelledby="productDetailModalLabel" aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="productDetailModalLabel">Chi tiết sản phẩm</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <p><strong>Id:</strong> <span id="detailId1"></span></p>
                                                <div>
                                                    <strong>Hình ảnh:</strong>
                                                    <div id="detailHinhAnh" class="d-flex flex-wrap"></div>
                                                </div>
                                                <p><strong>Mã sản phẩm chi tiết:</strong> <span id="detailMaSanPhamChiTiet"></span></p>
                                                <p><strong>Tên sản phẩm:</strong> <span id="detailSanPham"></span></p>
                                                <p><strong>Kích thước:</strong> <span id="detailKichThuoc"></span></p>
                                                <p><strong>Màu sắc:</strong> <span id="detailMauSac"></span></p>
                                                <p><strong>Số lượng:</strong> <span id="detailSoLuong"></span></p>
                                                <p><strong>Giá bán:</strong> <span id="detailGiaBan"></span></p>
                                                <p><strong>Giá bán giảm giá:</strong> <span id="detailGiaBanGiamGia"></span></p>
                                                <p><strong>Ngày sản xuất:</strong> <span id="detailNgaySanXuat"></span></p>
                                                <p><strong>Ngày tạo:</strong> <span id="detailNgayTao1"></span></p>
                                                <p><strong>Người tạo:</strong> <span id="detailNguoiTao1"></span></p>
                                                <p><strong>Ngày sửa:</strong> <span id="detailNgaySua1"></span></p>
                                                <p><strong>Nguời sửa:</strong> <span id="detailNguoiSua1"></span></p>
                                                <p><strong>Trạng thái:</strong> <span id="detailTrangThai1"></span></p>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <script>
                                    document.addEventListener('DOMContentLoaded', function () {
                                        const customerDetailModal = document.getElementById('sanPhamChiTietDetailModal');

                                        customerDetailModal.addEventListener('show.bs.modal', function (event) {
                                            const button = event.relatedTarget; // Button that triggered the modal
                                            const id1 = button.getAttribute('data-id1');
                                            const maSPCT = button.getAttribute('data-maspct');
                                            const hinhAnh = button.getAttribute('data-hinhanh')?.split(',') || [];
                                            const sanPham = button.getAttribute('data-sp');
                                            const kichThuoc = button.getAttribute('data-kt');
                                            const mauSac = button.getAttribute('data-ms');
                                            const soLuong = button.getAttribute('data-soluong');
                                            const giaBan = button.getAttribute('data-giaban');
                                            const giaBanGiamGia = button.getAttribute('data-giabangiamgia');
                                            const ngaySanXuat = button.getAttribute('data-ngaysanxuat');
                                            const ngayTao1 = button.getAttribute('data-ngaytao1');
                                            const nguoiTao1 = button.getAttribute('data-nguoitao1');
                                            const ngaySua1 = button.getAttribute('data-ngaysua1');
                                            const nguoiSua1 = button.getAttribute('data-nguoisua1');
                                            const trangThai1 = button.getAttribute('data-trangthai1');
                                            // Update the modal's content
                                            document.getElementById('detailId1').textContent = id1;
                                            document.getElementById('detailMaSanPhamChiTiet').textContent = maSPCT;
                                            document.getElementById('detailSanPham').textContent = sanPham;
                                            document.getElementById('detailKichThuoc').textContent = kichThuoc;
                                            document.getElementById('detailMauSac').textContent = mauSac;
                                            document.getElementById('detailSoLuong').textContent = soLuong;
                                            document.getElementById('detailGiaBan').textContent = giaBan;
                                            document.getElementById('detailGiaBanGiamGia').textContent = giaBanGiamGia;
                                            document.getElementById('detailNgaySanXuat').textContent = ngaySanXuat;
                                            document.getElementById('detailNgayTao1').textContent = ngayTao1;
                                            document.getElementById('detailNguoiTao1').textContent = nguoiTao1;
                                            document.getElementById('detailNgaySua1').textContent = ngaySua1;
                                            document.getElementById('detailNguoiSua1').textContent = nguoiSua1;
                                            document.getElementById('detailTrangThai1').textContent = trangThai1;

                                            const imagesContainer = document.getElementById('detailHinhAnh');
                                            imagesContainer.innerHTML = '';

                                            hinhAnh.forEach(image => {
                                                if (image.trim()) { // Check if image is not empty
                                                    const imgElement = document.createElement('img');
                                                    imgElement.src = `/repository/${image.trim()}`; // Đường dẫn ảnh
                                                    imgElement.alt = 'Hình ảnh sản phẩm';
                                                    imgElement.className = 'img-thumbnail me-2 mb-2';
                                                    imgElement.style.maxWidth = '100px';
                                                    imgElement.style.maxHeight = '100px';
                                                    imagesContainer.appendChild(imgElement);
                                                }
                                            });
                                        });
                                    });
                                </script>
                                <th:block th:if="${listSanPhamChiTiet != null and listSanPhamChiTiet.totalPages > 1}">
                                    <nav aria-label="Page navigation">
                                        <ul class="pagination justify-content-center">
                                            <!-- Previous Button -->
                                            <li class="page-item"
                                                th:classappend="${!listSanPhamChiTiet.hasPrevious()} ? 'disabled'">
                                                <a class="page-link"
                                                   th:href="@{/qlsanphamchitiet(page=${listSanPhamChiTiet.number - 1}, searchSanPhamChiTiet=${param.searchSanPhamChiTiet}, idSanPham=${param.idSanPham}, idMauSac=${param.idMauSac}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}">Previous</a>
                                            </li>
                                            <!-- Page Numbers -->
                                            <th:block
                                                    th:each="i : ${#numbers.sequence(0, listSanPhamChiTiet.totalPages - 1)}">
                                                <li class="page-item"
                                                    th:classappend="${i == listSanPhamChiTiet.number} ? 'active'">
                                                    <a class="page-link"
                                                       th:href="@{/qlsanphamchitiet(page=${i}, searchSanPhamChiTiet=${param.searchSanPhamChiTiet}, idSanPham=${param.idSanPham}, idMauSac=${param.idMauSac}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}"
                                                       th:text="${i + 1}"></a>
                                                </li>
                                            </th:block>
                                            <!-- Next Button -->
                                            <li class="page-item"
                                                th:classappend="${!listSanPhamChiTiet.hasNext()} ? 'disabled'">
                                                <a class="page-link"
                                                   th:href="@{/qlsanphamchitiet(page=${listSanPhamChiTiet.number + 1}, searchSanPhamChiTiet=${param.searchSanPhamChiTiet}, idSanPham=${param.idSanPham}, idMauSac=${param.idMauSac}, minPrice=${param.minPrice}, maxPrice=${param.maxPrice})}">Next</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </th:block>
                                <script>
                                    document.querySelectorAll('.imagee').forEach(input => {
                                        input.addEventListener('change', function (event) {
                                            const files = event.target.files; // Lấy tất cả các file được chọn
                                            const previewContainer = event.target.closest('.productDetail').querySelector('.previewImagesContainer'); // Container chứa các ảnh xem trước

                                            // Xóa ảnh đã hiển thị trước đó
                                            previewContainer.innerHTML = '';

                                            // Nếu có ảnh được chọn
                                            if (files && files.length > 0) {
                                                Array.from(files).forEach(file => {
                                                    const reader = new FileReader();

                                                    reader.onload = function (e) {
                                                        const img = document.createElement('img');
                                                        img.src = e.target.result;
                                                        img.classList.add('img-thumbnail');
                                                        img.style.maxWidth = '150px';
                                                        img.style.maxHeight = '150px';
                                                        img.style.marginRight = '5px';

                                                        // Thêm ảnh vào container
                                                        previewContainer.appendChild(img);
                                                    };

                                                    reader.readAsDataURL(file); // Đọc file và tạo URL tạm thời
                                                });
                                            } else {
                                                previewContainer.innerHTML = '<p>Chưa có ảnh xem trước</p>';
                                            }
                                        });
                                    });
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- container-fluid -->
        </div>
        <!-- End Page-content -->

        <footer class="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-6">
                        © Velzon.
                    </div>
                    <div class="col-sm-6">
                        <div class="text-sm-end d-none d-sm-block">
                            Design & Develop by Themesbrand
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <!-- end main content-->

</div>
<!-- END layout-wrapper -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const toastSuccessElement = document.getElementById('toastSuccess');
        const toastErrorElement = document.getElementById('toastError');

        if (toastSuccessElement) {
            const toastSuccess = new bootstrap.Toast(toastSuccessElement, {
                autohide: true,
                delay: 5000 // 5 seconds
            });
            toastSuccess.show();
        }

        if (toastErrorElement) {
            const toastError = new bootstrap.Toast(toastErrorElement, {
                autohide: true,
                delay: 5000 // 5 seconds
            });
            toastError.show();
        }
    });
</script>
<script th:if="${showAddModal}" type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
        var addModal = new bootstrap.Modal(document.getElementById('addModal'));
        addModal.show();
    });
</script>

<script src="../js/bootstrap.bundle.min.js"></script>
<script src="../js/simplebar.min.js"></script>
<script src="../js/waves.min.js"></script>
<script src="../js/feather.min.js"></script>
<script src="../js/lord-icon-2.1.0.js"></script>
<script src="../js/plugins.js"></script>

<!-- apexcharts -->
<script src="../js/apexcharts.min.js"></script>

<!-- Vector map-->
<script src="../js/jsvectormap.min.js"></script>
<script src="../js/world-merc.js"></script>

<!--Swiper slider js-->
<script src="../js/swiper-bundle.min.js"></script>

<!-- Dashboard init -->
<script src="../js/dashboard-ecommerce.init.js"></script>

<!-- App js -->
<script src="../js/app.js"></script>
</body>
<script>
    $(document).ready(function () {
        $('#productForm').on('submit', function (e) {
            e.preventDefault();
            $('.error').text('');

            var formData = $(this).serialize() + '&isAjax=true';

            $.ajax({
                url: '/qlsanpham/store',
                type: 'POST',
                data: formData,
                contentType: false,
                processData: false,
                success: function (response) {
                    $("#toastSuccess .toast-body").text(response.message);
                    const toastSuccess = new bootstrap.Toast(document.getElementById('toastSuccess'));
                    toastSuccess.show();
                },
                error: function (xhr) {
                    if (xhr.responseJSON && xhr.responseJSON.errors) {
                        var errors = xhr.responseJSON.errors;

                        $.each(errors, function (field, message) {
                            $('#' + field + 'Error').text(message);
                        });
                    }
                }
            });
        });


        $('#productEditForm').on('submit', function (e) {
            e.preventDefault();  // Ngừng gửi form theo cách thông thường

            // Xóa các thông báo lỗi cũ
            $('.error').text('');

            var formData = $(this).serialize() + '&isAjax=true';  // Gửi dữ liệu với isAjax=true

            // Thực hiện gửi AJAX
            $.ajax({
                url: '/qlsanpham/update',  // Đường dẫn gửi request đến server
                type: 'POST',
                data: formData,
                contentType: false,
                processData: false,
                success: function (response) {
                    $("#toastSuccess .toast-body").text(response.message);
                    const toastSuccess = new bootstrap.Toast(document.getElementById('toastSuccess'));
                    toastSuccess.show();
                },
                error: function (xhr) {
                    if (xhr.responseJSON && xhr.responseJSON.errors) {
                        var errors = xhr.responseJSON.errors;  // Lấy thông báo lỗi từ response

                        // Duyệt qua các lỗi và hiển thị chúng trên các trường tương ứng
                        $.each(errors, function (field, message) {
                            $('#' + field + 'Error1').text(message);  // Hiển thị lỗi ở các thẻ với ID tương ứng
                        });
                    } else {
                        alert('Có lỗi xảy ra. Vui lòng thử lại sau.');
                    }
                }
            });
        });

        formData.append('isAjax', 1);


        $.ajax({
            url: '/qlsanphamchitiet/store',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (response) {
                alert('Sản phẩm chi tiết đã được thêm thành công!');
                $('#addModal2').modal('hide');
                location.reload();
                // window.location.href("http://localhost:8080/qlsanphamchitiet")
                // console.log("ababbab")

            },
            error: function (xhr) {
                console.log("Có lỗi xảy ra khi gửi yêu cầu AJAX.");
                if (xhr.responseJSON && xhr.responseJSON.errors) {
                    var errors = xhr.responseJSON.errors;
                    $.each(errors, function (field, message) {
                        $('#' + field + 'Error').text(message);
                    });
                } else {
                    alert('Có lỗi xảy ra. Mã lỗi: ' + xhr.status + ', Chi tiết: ' + xhr.statusText);
                }
            }
        });


        $('#productDetailEditForm').on('submit', function (e) {
            e.preventDefault();  // Ngừng gửi form theo cách thông thường

            // Xóa các thông báo lỗi cũ
            $('.error').text('');

            var formData = $(this).serialize() + '&isAjax=true';  // Gửi dữ liệu với isAjax=true

            // Thực hiện gửi AJAX
            $.ajax({
                url: '/qlsanphamchitiet/update',  // Đường dẫn gửi request đến server
                type: 'POST',
                data: formData,
                success: function (response) {
                    alert('Cập nhật sản phẩm chi tiết thành công!');
                    $('#editModal').modal('hide');  // Đóng modal sau khi thành công
                    location.reload();  // Tải lại trang nếu cần
                },
                error: function (xhr) {
                    if (xhr.responseJSON && xhr.responseJSON.errors) {
                        var errors = xhr.responseJSON.errors;  // Lấy thông báo lỗi từ response

                        // Duyệt qua các lỗi và hiển thị chúng trên các trường tương ứng
                        $.each(errors, function (field, message) {
                            $('#' + field + 'Error1').text(message);  // Hiển thị lỗi ở các thẻ với ID tương ứng
                        });
                    } else {
                        alert('Có lỗi xảy ra. Vui lòng thử lại sau.');
                    }
                }
            });
        });

        $('#productEditForm').on('submit', function (e) {
            e.preventDefault();  // Ngừng gửi form theo cách thông thường

            // Xóa các thông báo lỗi cũ
            $('.error').text('');

            var formData = $(this).serialize() + '&isAjax=true';  // Gửi dữ liệu với isAjax=true

            // Thực hiện gửi AJAX
            $.ajax({
                url: '/qlsanpham/update',  // Đường dẫn gửi request đến server
                type: 'POST',
                data: formData,
                success: function (response) {
                    alert('Cập nhật sản phẩm thành công!');
                    $('#editModal').modal('hide');  // Đóng modal sau khi thành công
                    location.reload();  // Tải lại trang nếu cần
                },
                error: function (xhr) {
                    if (xhr.responseJSON && xhr.responseJSON.errors) {
                        var errors = xhr.responseJSON.errors;  // Lấy thông báo lỗi từ response

                        // Duyệt qua các lỗi và hiển thị chúng trên các trường tương ứng
                        $.each(errors, function (field, message) {
                            $('#' + field + 'Error1').text(message);  // Hiển thị lỗi ở các thẻ với ID tương ứng
                        });
                    } else {
                        alert('Có lỗi xảy ra. Vui lòng thử lại sau.');
                    }
                }
            });
        });


    });

    // function previewImage(input) {
    //     let preview = document.getElementById('previewImage');
    //     let file = input.files[0];
    //
    //     if (file) {
    //         let reader = new FileReader();
    //
    //         reader.onload = function (e) {
    //             preview.src = e.target.result;
    //         }
    //         reader.readAsDataURL(file);
    //     }
    // }


    //     function previewImage(input) {
    //     const preview = document.getElementById('previewImage2');
    //
    //     if (input.files && input.files[0]) {
    //     const reader = new FileReader();
    //
    //     reader.onload = function (e) {
    //     preview.src = e.target.result; // Gán đường dẫn ảnh vào thẻ <img>
    //     preview.style.display = 'block'; // Hiển thị thẻ <img>
    // };
    //
    //     reader.readAsDataURL(input.files[0]); // Đọc file và convert thành DataURL
    // } else {
    //     preview.src = '#'; // Đặt lại giá trị khi không có file
    //     preview.style.display = 'none'; // Ẩn thẻ <img>
    // }}
</script>


</html>